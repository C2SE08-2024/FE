<div class="lesson-page">

  <!-- Khu v·ª±c ch√≠nh -->
  <main class="lesson-main">
    <!-- Thanh b√™n -->
    <aside class="lesson-sidebar">
      <h2>N·ªôi dung b√†i h·ªçc</h2>
      <ul>
        <li
          *ngFor="let lesson of lessons; let i = index"
          [class.locked]="!isLessonUnlocked(i)"
        >
          <a
            (click)="selectedLesson = i"
            [class.active]="selectedLesson === i"
            [class.locked]="!isLessonUnlocked(i)"
            [class.disabled]="!isLessonUnlocked(i)"
          >
            {{ lesson.lessonName }}
            <span *ngIf="!isLessonUnlocked(i)" class="lock-icon">üîí</span>
          </a>
        </li>
      </ul>
    </aside>

    <!-- N·ªôi dung b√†i h·ªçc -->
    <section class="lesson-content">
      <!-- N·∫øu ƒë√£ ch·ªçn b√†i h·ªçc -->
      <div *ngIf="selectedLesson !== null">
        <h2>{{ lessons[selectedLesson]?.lessonName }}</h2>

        <!-- Video b√†i h·ªçc -->
        <div class="video-wrapper" *ngIf="lessons[selectedLesson]?.video">
          <video controls [src]="lessons[selectedLesson]?.video">
            Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ xem video.
          </video>
        </div>

        <!-- N·ªôi dung b√†i h·ªçc -->
        <p>{{ lessons[selectedLesson]?.lessonContent }}</p>

        <!-- N√∫t ho√†n th√†nh -->
        <button
          *ngIf="!lessons[selectedLesson]?.isCompletedByStudent"
          class="btn-complete"
          (click)="markAsCompleted(lessons[selectedLesson])"
        >
          Ho√†n th√†nh b√†i h·ªçc
        </button>
        <button
          *ngIf="lessons[selectedLesson]?.isCompletedByStudent"
          class="btn-completed"
          disabled
        >
          ƒê√£ ho√†n th√†nh
        </button>
      </div>

      <!-- Placeholder n·∫øu ch∆∞a ch·ªçn b√†i h·ªçc -->
      <div *ngIf="selectedLesson === null" class="lesson-placeholder">
        <p>H√£y ch·ªçn m·ªôt b√†i h·ªçc t·ª´ danh s√°ch ƒë·ªÉ b·∫Øt ƒë·∫ßu!</p>
      </div>
    </section>
  </main>
</div>
