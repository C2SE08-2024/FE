<div *ngIf="isLoading">Đang tải danh sách khóa học...</div>
<div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
<div *ngIf="!isLoading && !errorMessage">
    <div class="card">
        <div class="card-head">
            <div class="heading-banner">
                <div class="text-heading">
                    <h1>Khóa học</h1>
                    <div class="seach-bar-container">
                        <form class="search-bar">
                            <!-- <button type="submit" (click)="search()"><img src="assets/image/search-symbol.png"></button>
                        <input type="text" name="value" [(ngModel)]="searchTerm" (keyup.enter)="onEnter()"> -->
                        </form>
                    </div>
                    <a [routerLink]="['create']" class="add">
                        <span>Thêm khóa học</span>
                    </a>
                </div>
                <div class="category-filter">
                    <!-- <select [(ngModel)]="selectedBreed" (change)="filterPets()">
                    <option value = "" >Tất cả</option>
                    <option *ngFor="let item of BreedList" [value]="item.breedId">{{item.breedName}}</option>
                </select> -->
                </div>
            </div>
        </div>
        <div class="card-body">
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Action</th>
                            <th>Tên khóa học</th>
                            <th>Hình ảnh</th>
                            <th>Giá</th>
                            <th>Giảng viên</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of courses; let i = index">
                            <td style="text-align: center;">{{ i + 1 }}</td>
                            <td style="align-items: center; justify-content: center; gap: 10px">
                                <i class="fa-solid fa-circle-info fa-lg" title="Xem chi tiết" (click)="openCourseEditModal(item)"></i>
                                <i class="fa fa-pencil-square fa-lg" (click)="openCourseEditModal(item)" title="Chỉnh sửa khóa học"></i>
                                <i class="fa fa-trash fa-lg" (click)="confirmDelete(item.courseId)" title="Xóa khóa học"></i>
                            </td>
                            <td (click)="openCourseDetailModal(item)" >{{ item.courseName }}</td>
                            <td><img [src]="item.image" style="max-width: 50px; max-height: 50px;"></td>
                            <td>{{ item.coursePrice | number:'1.0-0'  }} VND</td>
                            <td>{{ item.instructor.instructorName  }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- <div *ngIf="totalPets > petsPerPage">
        <ul class="pagination">
          <li *ngFor="let page of getPageArray()" [class.active]="page === currentPage" style="margin-right: 10px;">
            <a (click)="changePage(page)" style="cursor: pointer;">{{page}}</a>
          </li>
        </ul>
    </div> -->
    </div>
</div>
<div class="action-form" *ngIf="showDeletePopup">
    <div class="close" (click)="closeDeletePopup()">
        <i class="fa-solid fa-xmark"></i>
    </div>
    <i class="fa fa-trash fa-4x" style="color: rgb(0, 159, 127) ;"></i>
    <h4>Xóa khóa học</h4>
    <p>Xác định xóa</p>
    <div class="btn-action">
        <button style="background-color:rgb(0, 159, 127)" (click)="closeDeletePopup()">Hủy</button>
        <button style="background-color:rgb(220, 38, 38)" (click)="deleteProductAtId()">Xóa</button>
    </div>
</div>